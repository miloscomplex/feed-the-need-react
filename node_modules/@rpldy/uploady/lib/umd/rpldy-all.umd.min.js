/*! For license information please see rpldy-all.umd.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.rpldy=t(require("react"),require("react-dom")):e.rpldy=t(e.react,e["react-dom"])}(self,(function(e,t){return function(){var n,r={"wfJ/":function(e){e.exports=function(e){return"function"==typeof e}},hSSe:function(e){e.exports=function(){return!0}},dDzF:function(e,t,n){"use strict";n.r(t),n.d(t,{chunkedSender:function(){return i},chunkedUploady:function(){return g},lifeEvents:function(){return u},mockSender:function(){return c},retry:function(){return d},retryHooks:function(){return S},safeStorage:function(){return f},sender:function(){return s},shared:function(){return o},sharedUi:function(){return h},simpleState:function(){return a},tusSender:function(){return p},tusUploady:function(){return v},uploadButton:function(){return E},uploadDropZone:function(){return b},uploadPaste:function(){return y},uploadPreview:function(){return I},uploadUrlInput:function(){return R},uploader:function(){return l},uploady:function(){return m}});var r={};n.r(r),n.d(r,{debugLog:function(){return L},isDebugOn:function(){return _},setDebug:function(){return N}});var o={};n.r(o),n.d(o,{BATCH_STATES:function(){return D},FILE_STATES:function(){return P},clone:function(){return se},createBatchItem:function(){return j},devFreeze:function(){return J},getMerge:function(){return re},hasWindow:function(){return U},invariant:function(){return A()},isFunction:function(){return K()},isPlainObject:function(){return ee},isProduction:function(){return Q()},isPromise:function(){return ie},isSamePropInArrays:function(){return W},logger:function(){return r},merge:function(){return oe},parseResponseHeaders:function(){return Z},pick:function(){return ae},request:function(){return V},throttle:function(){return T()},triggerCancellable:function(){return B},triggerUpdater:function(){return H}});var s={};n.r(s),n.d(s,{MissingUrlError:function(){return ce},XHR_SENDER_TYPE:function(){return ue},default:function(){return Se},getXhrSend:function(){return me},send:function(){return ge}});var a={};n.r(a),n.d(a,{createState:function(){return ke},default:function(){return ke},isProxiable:function(){return Ce},isProxy:function(){return Ae},unwrap:function(){return Ue}});var i={};n.r(i),n.d(i,{CHUNKED_DEFAULT_OPTIONS:function(){return ve},CHUNKED_SENDER_TYPE:function(){return Ne},CHUNKING_SUPPORT:function(){return be},CHUNK_EVENTS:function(){return _e},createChunkedSender:function(){return Ge},default:function(){return Ve},getChunkDataFromFile:function(){return ye},getChunkedEnhancer:function(){return Ze}});var u={};n.r(u),n.d(u,{addLife:function(){return ft},createLifePack:function(){return pt},default:function(){return ft},isLE:function(){return tt}});var c={};n.r(c),n.d(c,{MOCK_SENDER_TYPE:function(){return ht},createMockSender:function(){return vt},default:function(){return bt},getMockSenderEnhancer:function(){return Et}});var l={};n.r(l),n.d(l,{BATCH_STATES:function(){return D},DEFAULT_OPTIONS:function(){return Jt},FILE_STATES:function(){return P},MissingUrlError:function(){return ce},UPLOADER_EVENTS:function(){return yt},XHR_SENDER_TYPE:function(){return ue},composeEnhancers:function(){return cn},createUploader:function(){return un},default:function(){return ln},getXhrSend:function(){return me},send:function(){return ge}});var d={};n.r(d),n.d(d,{RETRY_EVENT:function(){return fn},RETRY_EXT:function(){return dn},default:function(){return mn},retryEnhancer:function(){return mn}});var f={};n.r(f),n.d(f,{safeLocalStorage:function(){return Sn},safeSessionStorage:function(){return vn}});var p={};n.r(p),n.d(p,{CHUNKING_SUPPORT:function(){return be},TUS_EXT:function(){return An},TUS_SENDER_TYPE:function(){return Cn},clearResumables:function(){return On},default:function(){return Qn},getTusEnhancer:function(){return Yn}});var h={};n.r(h),n.d(h,{NoDomUploady:function(){return Nr},UploadyContext:function(){return ir},assertContext:function(){return ur},createContextApi:function(){return ar},generateUploaderEventHook:function(){return fr},generateUploaderEventHookWithState:function(){return dr},getIsUploadOptionsComponent:function(){return _r},getUploadyVersion:function(){return rr},logWarning:function(){return Ur},markAsUploadOptionsComponent:function(){return kr},useAbortAll:function(){return Hr},useAbortBatch:function(){return xr},useAbortItem:function(){return Br},useAllAbortListener:function(){return Dr},useBatchAbortListener:function(){return Er},useBatchAddListener:function(){return pr},useBatchCancelledListener:function(){return gr},useBatchErrorListener:function(){return Sr},useBatchFinalizeListener:function(){return vr},useBatchFinishListener:function(){return mr},useBatchProgressListener:function(){return br},useBatchStartListener:function(){return hr},useItemAbortListener:function(){return Ar},useItemCancelListener:function(){return Rr},useItemErrorListener:function(){return Or},useItemFinalizeListener:function(){return Cr},useItemFinishListener:function(){return Ir},useItemProgressListener:function(){return Tr},useItemStartListener:function(){return yr},useRequestPreSend:function(){return wr},useUploadOptions:function(){return Lr},useUploady:function(){return cr},useUploadyContext:function(){return cr},withBatchStartUpdate:function(){return Mr},withRequestPreSendUpdate:function(){return $r}});var m={};n.r(m),n.d(m,{BATCH_STATES:function(){return D},DEFAULT_OPTIONS:function(){return Jt},FILE_STATES:function(){return P},MissingUrlError:function(){return ce},NoDomUploady:function(){return Nr},UPLOADER_EVENTS:function(){return yt},Uploady:function(){return Vr},UploadyContext:function(){return ir},XHR_SENDER_TYPE:function(){return ue},assertContext:function(){return ur},composeEnhancers:function(){return cn},createContextApi:function(){return ar},createUploader:function(){return un},default:function(){return Kr},generateUploaderEventHook:function(){return fr},generateUploaderEventHookWithState:function(){return dr},getIsUploadOptionsComponent:function(){return _r},getUploadyVersion:function(){return rr},getXhrSend:function(){return me},logWarning:function(){return Ur},markAsUploadOptionsComponent:function(){return kr},send:function(){return ge},useAbortAll:function(){return Hr},useAbortBatch:function(){return xr},useAbortItem:function(){return Br},useAllAbortListener:function(){return Dr},useBatchAbortListener:function(){return Er},useBatchAddListener:function(){return pr},useBatchCancelledListener:function(){return gr},useBatchErrorListener:function(){return Sr},useBatchFinalizeListener:function(){return vr},useBatchFinishListener:function(){return mr},useBatchProgressListener:function(){return br},useBatchStartListener:function(){return hr},useFileInput:function(){return Xr},useItemAbortListener:function(){return Ar},useItemCancelListener:function(){return Rr},useItemErrorListener:function(){return Or},useItemFinalizeListener:function(){return Cr},useItemFinishListener:function(){return Ir},useItemProgressListener:function(){return Tr},useItemStartListener:function(){return yr},useRequestPreSend:function(){return wr},useUploadOptions:function(){return Lr},useUploady:function(){return cr},useUploadyContext:function(){return cr},withBatchStartUpdate:function(){return Mr},withRequestPreSendUpdate:function(){return $r}});var g={};n.r(g),n.d(g,{BATCH_STATES:function(){return D},CHUNK_EVENTS:function(){return _e},ChunkedUploady:function(){return Wr},DEFAULT_OPTIONS:function(){return Jt},FILE_STATES:function(){return P},MissingUrlError:function(){return ce},NoDomUploady:function(){return Nr},UPLOADER_EVENTS:function(){return yt},Uploady:function(){return Vr},UploadyContext:function(){return ir},XHR_SENDER_TYPE:function(){return ue},assertContext:function(){return ur},composeEnhancers:function(){return cn},createContextApi:function(){return ar},createUploader:function(){return un},default:function(){return Jr},generateUploaderEventHook:function(){return fr},generateUploaderEventHookWithState:function(){return dr},getIsUploadOptionsComponent:function(){return _r},getUploadyVersion:function(){return rr},getXhrSend:function(){return me},logWarning:function(){return Ur},markAsUploadOptionsComponent:function(){return kr},send:function(){return ge},useAbortAll:function(){return Hr},useAbortBatch:function(){return xr},useAbortItem:function(){return Br},useAllAbortListener:function(){return Dr},useBatchAbortListener:function(){return Er},useBatchAddListener:function(){return pr},useBatchCancelledListener:function(){return gr},useBatchErrorListener:function(){return Sr},useBatchFinalizeListener:function(){return vr},useBatchFinishListener:function(){return mr},useBatchProgressListener:function(){return br},useBatchStartListener:function(){return hr},useChunkFinishListener:function(){return Qr},useChunkStartListener:function(){return Yr},useFileInput:function(){return Xr},useItemAbortListener:function(){return Ar},useItemCancelListener:function(){return Rr},useItemErrorListener:function(){return Or},useItemFinalizeListener:function(){return Cr},useItemFinishListener:function(){return Ir},useItemProgressListener:function(){return Tr},useItemStartListener:function(){return yr},useRequestPreSend:function(){return wr},useUploadOptions:function(){return Lr},useUploady:function(){return cr},useUploadyContext:function(){return cr},withBatchStartUpdate:function(){return Mr},withRequestPreSendUpdate:function(){return $r}});var S={};n.r(S),n.d(S,{RETRY_EVENT:function(){return fn},default:function(){return oo},retryEnhancer:function(){return mn},useBatchRetry:function(){return no},useRetry:function(){return to},useRetryListener:function(){return ro}});var v={};n.r(v),n.d(v,{BATCH_STATES:function(){return D},DEFAULT_OPTIONS:function(){return Jt},FILE_STATES:function(){return P},MissingUrlError:function(){return ce},NoDomUploady:function(){return Nr},TusUploady:function(){return so},UPLOADER_EVENTS:function(){return yt},Uploady:function(){return Vr},UploadyContext:function(){return ir},XHR_SENDER_TYPE:function(){return ue},assertContext:function(){return ur},composeEnhancers:function(){return cn},createContextApi:function(){return ar},createUploader:function(){return un},default:function(){return io},generateUploaderEventHook:function(){return fr},generateUploaderEventHookWithState:function(){return dr},getIsUploadOptionsComponent:function(){return _r},getUploadyVersion:function(){return rr},getXhrSend:function(){return me},logWarning:function(){return Ur},markAsUploadOptionsComponent:function(){return kr},send:function(){return ge},useAbortAll:function(){return Hr},useAbortBatch:function(){return xr},useAbortItem:function(){return Br},useAllAbortListener:function(){return Dr},useBatchAbortListener:function(){return Er},useBatchAddListener:function(){return pr},useBatchCancelledListener:function(){return gr},useBatchErrorListener:function(){return Sr},useBatchFinalizeListener:function(){return vr},useBatchFinishListener:function(){return mr},useBatchProgressListener:function(){return br},useBatchStartListener:function(){return hr},useClearResumableStore:function(){return ao},useFileInput:function(){return Xr},useItemAbortListener:function(){return Ar},useItemCancelListener:function(){return Rr},useItemErrorListener:function(){return Or},useItemFinalizeListener:function(){return Cr},useItemFinishListener:function(){return Ir},useItemProgressListener:function(){return Tr},useItemStartListener:function(){return yr},useRequestPreSend:function(){return wr},useUploadOptions:function(){return Lr},useUploady:function(){return cr},useUploadyContext:function(){return cr},withBatchStartUpdate:function(){return Mr},withRequestPreSendUpdate:function(){return $r}});var E={};n.r(E),n.d(E,{UploadButton:function(){return co},asUploadButton:function(){return uo},default:function(){return lo}});var b={};n.r(b),n.d(b,{UploadDropZone:function(){return ho},default:function(){return mo}});var y={};n.r(y),n.d(y,{default:function(){return yo},usePasteUpload:function(){return bo},withPasteUpload:function(){return So}});var I={};n.r(I),n.d(I,{PREVIEW_TYPES:function(){return Io},UploadPreview:function(){return ko},default:function(){return _o},getUploadPreviewForBatchItemsMethod:function(){return Uo}});var R={};n.r(R),n.d(R,{UploadUrlInput:function(){return Lo},default:function(){return Bo}});var O=n("kvau"),A=n.n(O),C=n("uDTZ"),T=n.n(C);const w="__rpldy-logger-debug__",D={PENDING:"pending",ADDED:"added",PROCESSING:"processing",UPLOADING:"uploading",CANCELLED:"cancelled",FINISHED:"finished",ABORTED:"aborted",ERROR:"error"},P={PENDING:"pending",ADDED:"added",UPLOADING:"uploading",CANCELLED:"cancelled",FINISHED:"finished",ERROR:"error",ABORTED:"aborted"};var U=()=>"object"==typeof window&&!!window.document;let k;const _=()=>("boolean"!=typeof k&&(k=U()&&("location"in window&&!!~window.location.search.indexOf("rpldy_debug=true")||!0===window[w])),!!k),N=e=>{U()&&(window[w]=e),k=!!e||null},L=function(){_()&&console.log(...arguments)};var B=function(e,t){const n=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return new Promise(((n,o)=>{const s=e(t,...r);s&&s.length?Promise.all(s).catch(o).then((e=>e&&n(!!~e.findIndex((e=>!1===e))))):n(!1)}))};for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];return t?n(t,...o):n};const x=e=>null==e;var H=function(e,t){const n=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return new Promise(((n,o)=>{const s=e(t,...r);s&&s.length?Promise.all(s).catch(o).then((e=>{let t;if(e)for(;x(t)&&e.length;)t=e.pop();n(x(t)?void 0:t)})):n()}))};for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];return t?n(t,...o):n};const F=Symbol.for("__rpldy-bi__");let $=0;const q=(e,t)=>(e.url=t,e),M=(e,t)=>(e.file=t,e),z=e=>e&&(e instanceof File||e instanceof Blob||"object"==typeof e&&e.name&&e.type);var j=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];$+=e.id&&e.batchId?0:1;const r=e.id&&e.batchId?e.id:`${t}.item-${$}`,o=n?P.PENDING:P.ADDED;let s={id:r,batchId:t,state:o,uploadStatus:0,completed:0,loaded:0,recycled:!1,previousBatch:null};if(Object.defineProperty(s,F,{value:!0,writable:!0}),"object"==typeof e&&!0===e[F]&&(s.recycled=!0,s.previousBatch=e.batchId,e=e.file||e.url),"string"==typeof e)s=q(s,e);else{if(!z(e))throw new Error("Unknown type of file added: "+typeof e);s=M(s,e)}return s};const G=(e,t)=>{t&&Object.keys(t).forEach((n=>{void 0!==t[n]&&e.setRequestHeader(n,t[n])}))};var Z=e=>{let t;try{t=e.getAllResponseHeaders().trim().split(/[\r\n]+/).reduce(((e,t)=>{const[n,r]=t.split(": ");return e[n]=r,e}),{})}catch(t){L("uploady.request: failed to read response headers",e)}return t},V=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new XMLHttpRequest,o=new Promise(((o,s)=>{r.onerror=()=>s(r),r.ontimeout=()=>s(r),r.onabort=()=>s(r),r.onload=()=>o(r),r.open(n.method||"GET",e),G(r,n.headers),r.withCredentials=!!n.withCredentials,n.preSend&&n.preSend(r),r.send(t)}));return o.xhr=r,o},X=n("wfJ/"),K=n.n(X),W=(e,t,n)=>{let r=!0;const o=(e=>{const t=[].concat(e);return e=>e.map((e=>t.map((t=>e[t])).join()))})(n);if(e&&t&&e.length===t.length){const n=o(e),s=o(t);r=!!n.find(((e,t)=>e!==s[t]))}return!r},Y=n("hSSe"),Q=n.n(Y),J=e=>Q()()?e:Object.freeze(e),ee=e=>{var t;return!!e&&"object"==typeof e&&("Object"===(null===(t=Object.getPrototypeOf(e))||void 0===t?void 0:t.constructor.name)||null===Object.getPrototypeOf(e))};const te=e=>ee(e)||Array.isArray(e),ne=(e,t)=>{const n=Object.keys(e);return t.withSymbols?n.concat(Object.getOwnPropertySymbols(e)):n},re=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return n&&o.length&&o.forEach((r=>{r&&ne(r,e).forEach((o=>{const s=r[o];e.predicate&&!e.predicate(o,s)||(void 0!==s||e.undefinedOverwrites)&&(te(s)?(void 0!==n[o]&&ee(n[o])||(n[o]=Array.isArray(s)?[]:{}),t(n[o],s)):n[o]=s)}))})),n};return t};var oe=re(),se=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe;return te(e)?t(Array.isArray(e)?[]:{},e):e},ae=(e,t)=>e&&Object.keys(e).reduce(((n,r)=>(~t.indexOf(r)&&(n[r]=e[r]),n)),{}),ie=e=>!!e&&"object"==typeof e&&"function"==typeof e.then;const ue="rpldy-sender";class ce extends Error{constructor(e){super(`${e} didn't receive upload URL`),this.name="MissingUrlError"}}const le=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];"set"in e?e.set(t,...r):("delete"in e&&e.delete(t),e.append(t,...r))};const de=[200,201,202,203,204],fe=(e,t,n,r,o)=>{let s;const a=null!=o&&o.getRequestData?o.getRequestData(e,n):((e,t)=>{let n;if(t.sendWithFormData)L(`uploady.sender: sending ${e.length} item(s) as form data`),n=((e,t)=>{const n=new FormData;return t.params&&Object.entries(t.params).forEach((e=>{let[r,o]=e;(t.formDataAllowUndefined||void 0!==o)&&le(n,r,o)})),((e,t,n)=>{const r=1===t.length;t.forEach(((t,o)=>{const s=r?n.paramName:K()(n.formatGroupParamName)?n.formatGroupParamName(o,n.paramName):`${n.paramName}[${o}]`;t.file?le(e,s,t.file,t.file.name):t.url&&le(e,s,t.url)}))})(n,e,t),n})(e,t);else{if(e.length>1)throw new Error(`XHR Sender - Request without form data can only contain 1 item. received ${e.length}`);const t=e[0];L(`uploady.sender: sending item ${t.id} as request body`),n=t.file||t.url}return n})(e,n),i=function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,u=arguments.length>2?arguments[2]:void 0;u=oe({...ae(n,["method","headers","withCredentials"]),preSend:t=>{t.upload.onprogress=t=>{t.lengthComputable&&r&&r(t,e.slice())}}},u);const c=V(o,i,u);return s=c.xhr,c},u=null!=o&&o.preRequestHandler?o.preRequestHandler(i,e,t,n,r,o):i();return{url:t,count:e.length,pXhr:u,getXhr:()=>s,aborted:!1}},pe=(e,t,n)=>{let r=e;const o=null==t?void 0:t["content-type"];if(n.forceJsonResponse||null!=o&&o.includes("json"))try{r=JSON.parse(e)}catch{}return r},he=(e,t)=>e.pXhr.then((e=>(L("uploady.sender: received upload response ",e),((e,t)=>{const n=t.isSuccessfulCall?t.isSuccessfulCall(e):de.includes(e.status);return ie(n)?n:Promise.resolve(n)})(e,t).then((n=>{var r,o;const s=n?P.FINISHED:P.ERROR,a=e.status,i=Z(e);return{status:a,state:s,response:{data:null!==(r=null===(o=t.formatServerResponse)||void 0===o?void 0:o.call(t,e.response,a,i))&&void 0!==r?r:pe(e.response,i,t),headers:i}}}))))).catch((t=>{let n,r;return e.aborted?(n=P.ABORTED,r="aborted"):(L("uploady.sender: upload failed: ",t),n=P.ERROR,r=t),{error:!0,state:n,response:r,status:0}}));var me=e=>(t,n,r,o)=>{if(!n)throw new ce(ue);L("uploady.sender: sending file: ",{items:t,url:n,options:r});const s=fe(t,n,r,o,e);return{request:he(s,r),abort:()=>(e=>{let t=!1;const{aborted:n,getXhr:r}=e,o=r();return!n&&o&&o.readyState&&4!==o.readyState&&(L(`uploady.sender: cancelling request with ${e.count} items to: ${e.url}`),o.abort(),e.aborted=!0,t=!0),t})(s),senderType:ue}};const ge=me();var Se=ge;const ve=J({chunked:!0,chunkSize:5242880,retries:0,parallel:1});let Ee=null;const be=(Ee=null,U()&&"Blob"in window&&(Ee=Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),!!Ee),ye=(e,t,n)=>{var r;const o=null===(r=Ee)||void 0===r?void 0:r.call(e,t,n,e.type);return o&&(o.name=e.name,o.lastModified=e.lastModified),o};class Ie extends Error{constructor(e){super(e),this.name="ChunkedSendError"}}const Re=Symbol.for("__rpldy-sstt-proxy__"),Oe=Symbol.for("__rpldy-sstt-state__"),Ae=e=>!Q()()&&!!e&&!!~Object.getOwnPropertySymbols(e).indexOf(Re),Ce=e=>Array.isArray(e)||ee(e)&&!(e=>U()&&e instanceof File||e.name&&e.size&&e.uri)(e),Te=re({withSymbols:!0,predicate:e=>e!==Re&&e!==Oe}),we=e=>!!Q()()||e[Oe].isUpdateable,De=(e,t)=>{Q()()||(e[Oe].isUpdateable=t)},Pe=(e,t)=>{let n;return Ce(e)&&(Ae(e)||(e[Re]=!0,n=new Proxy(e,t)),Object.keys(e).forEach((n=>{e[n]=Pe(e[n],t)}))),n||e},Ue=e=>Ae(e)?se(e,Te):e;var ke=e=>{const t={set:(e,r,o)=>(we(n)&&(e[r]=Pe(o,t)),!0),get:(e,t)=>t===Re?Ue(e):e[t],defineProperty:()=>{throw new Error("Simple State doesnt support defining property")},setPrototypeOf:()=>{throw new Error("Simple State doesnt support setting prototype")},deleteProperty:(e,t)=>(we(n)&&delete e[t],!0)};Q()()||Ae(e)||Object.defineProperty(e,Oe,{value:{isUpdateable:!1},configurable:!0});const n=Q()()?e:Pe(e,t);return{state:n,update:e=>{if(!Q()()&&we(n))throw new Error("Can't call update on State already being updated!");try{De(n,!0),e(n)}finally{De(n,!1)}return n},unwrap:e=>e?Ue(e):Ae(n)?Ue(n):n}};const _e=J({CHUNK_START:"CHUNK_START",CHUNK_FINISH:"CHUNK_FINISH"}),Ne="rpldy-chunked-sender";const Le=(e,t,n)=>t&&`bytes ${e.start}-${e.start+t.size-1}/${n.file.size}`,Be=re({undefinedOverwrites:!0});var xe=(e,t,n,r,o)=>{if(e.data||t.updateState((()=>{e.data=ye(n.file,e.start,e.end)})),!e.data)throw new Ie("chunk failure - failed to slice");const s=t.getState().url;L(`chunkedSender.sendChunk: about to send chunk ${e.id} [${e.start}-${e.end}] to: ${s||""}`);const a=((e,t,n,r,o)=>{const s=t.getState(),a=Ue(s.sendOptions),i={...a,headers:{...a.headers,"Content-Range":Le(e,e.data,n)}},u=j(e.data,e.id),c=t=>{r(t,[e])},l=s.chunks.indexOf(e);return H(o,_e.CHUNK_START,{item:Ue(n),chunk:ae(e,["id","start","end","index","attempt"]),chunkItem:{...u},sendOptions:i,url:s.url,chunkIndex:l,remainingCount:s.chunks.length,totalCount:s.chunkCount,onProgress:r}).then((e=>{const t=!1===e;return t&&L(`chunkedSender.sendChunk: received false from CHUNK_START handler - skipping chunk ${l}, item ${n.id}`),t?{request:Promise.resolve({state:P.FINISHED,response:"skipping chunk as instructed by CHUNK_START handler",status:200}),abort:()=>!0,senderType:"chunk-skipped-sender"}:Se([u],(null==e?void 0:e.url)||s.url,Be({},i,null==e?void 0:e.sendOptions),c)}))})(e,t,n,r,o);return{request:a.then((e=>{let{request:t}=e;return t})),abort:()=>(a.then((e=>{let{abort:t}=e;return t()})),!0),senderType:"chunk-passthrough-sender"}};const He=(e,t)=>{e(t instanceof Ie?{state:P.ERROR,response:"At least one chunk failed"}:{state:P.ERROR,response:t.message})},Fe=(e,t,n,r)=>{e.updateState((e=>{e.finished=!0})),n({state:r,response:{results:e.getState().responses}})},$e=(e,t,n,r,o,s)=>new Promise(((a,i)=>{try{const i=xe(o,e,t,n,s);((e,t,n,r,o,s)=>(e.updateState((e=>{e.requests[n]={id:n,abort:r.abort}})),r.request.then((r=>{L(`chunkedSender: request finished for chunk: ${n} - `,r),e.updateState((e=>{delete e.requests[n]}));const a=e.getState().chunks,i=a.findIndex((e=>e.id===n));if(~i){if(r.state===P.FINISHED){const n=a[i];e.updateState((e=>{e.chunks=e.chunks.slice(0,i).concat(e.chunks.slice(i+1))}));const u=n.end-n.start;s({loaded:u,total:t.file.size},[n]),o(_e.CHUNK_FINISH,{chunk:ae(n,["id","start","end","index","attempt"]),item:Ue(t),uploadData:r})}else r.state!==P.ABORTED&&e.updateState((e=>{e.chunks[i].attempt+=1}));e.updateState((e=>{e.responses.push(r.response)}))}}))))(e,t,o.id,i,s,n).then((()=>{a(),((e,t,n)=>{const r=e.getState(),o=!r.chunks.length;return r.aborted?(L(`chunkedSender: chunked upload aborted for item: ${t.id}`),Fe(e,0,n,P.ABORTED)):o&&!r.error&&(L(`chunkedSender: chunked upload finished for item: ${t.id}`,r.responses),Fe(e,0,n,P.FINISHED)),o||r.error})(e,t,r)||qe(e,t,n,r,s)}))}catch(e){i(e)}})),qe=(e,t,n,r,o)=>{const s=e.getState();if(!s.finished&&!s.aborted){const a=Object.keys(s.requests).length;if(!a||s.parallel&&s.parallel>a){let s;try{s=(e=>{const t=e.getState(),n=[],r=Object.keys(t.requests),o=t.parallel||1;for(let e=0;e<t.chunks.length&&r.length<o&&n.length<o;e++){const o=t.chunks[e];if(!r.includes(o.id)){if(o.attempt&&!(o.attempt<t.retries))throw new Ie("chunk failure");n.push(o)}}return n})(e)}catch(e){He(r,e)}s&&s.forEach((s=>{$e(e,t,n,r,s,o).catch((t=>{e.updateState((e=>{e.error=!0})),He(r,t)}))}))}}};var Me=qe;const ze=(e,t,n,r)=>{const o=(r,o)=>{const s=((e,t,n,r)=>{e.updateState((e=>{e.uploaded[n]=Math.max(r,e.uploaded[n]||0)}));const o=e.getState(),s=Object.keys(o.uploaded).reduce(((e,t)=>e+o.uploaded[t]),o.startByte),a=t.file.size;return{loaded:Math.min(s,a),total:a}})(e,t,o[0].id,r.loaded);n(s,[t])};return{sendPromise:new Promise((n=>{Me(e,t,o,n,r)})),abort:()=>((e,t)=>{L(`chunkedSender: aborting chunked upload for item: ${t.id}`);const n=e.getState();return n.finished||n.aborted||(Object.keys(n.requests).forEach((e=>{L(`chunkedSender: aborting chunk: ${e}`),n.requests[e].abort()})),e.updateState((e=>{e.aborted=!0}))),n.aborted})(e,t)}};var je=(e,t,n,r,o,s)=>{const a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{chunkSize:r}=t,o=n?e.file.size-n:e.file.size;if(o<=0)throw new Ie(`start byte ${n} is invalid. File size: ${e.file.size}`);const s=o<=r?1:Math.ceil(o/r);return new Array(s).fill(null).map(((t,o)=>{const s=r*o+(n||0);return{id:`${e.id}_chunk-${o}`,start:s,end:Math.min(s+r,e.file.size),data:null,attempt:0,uploaded:0,index:o}}))}(e,t,r.startByte),i=((e,t,n,r)=>{const{state:o,update:s}=ke({finished:!1,aborted:!1,error:!1,uploaded:{},requests:{},responses:[],chunkCount:e.length,startByte:n.startByte||0,chunks:e,url:t,sendOptions:n,...r});return{getState:()=>o,updateState:e=>{s(e)}}})(a,n,r,t);L(`chunkedSender: created ${a.length} chunks for: ${e.file.name}`);const{sendPromise:u,abort:c}=ze(i,e,o,s);return{request:u,abort:c,senderType:Ne}},Ge=(e,t)=>{const n=(e=>oe({},ve,e))(e);return{send:(e,r,o,s)=>{let a;return!n.chunked||e.length>1||e[0].url||!e[0].file.size?(a=Se(e,r,o,s),L("chunkedSender: sending items as normal, un-chunked requests")):(L("chunkedSender: sending file as a chunked request"),a=je(e[0],n,r,o,s,t)),a}}},Ze=e=>(t,n)=>{const r=Ge(e,n);return L("chunkedSenderEnhancer: Created chunked-sender instance with options: ",e),t.update({send:r.send}),t},Ve=Ze,Xe=J({allowRegisterNonExistent:!0,canAddEvents:!0,canRemoveEvents:!0,collectStats:!1});const Ke=(e,t)=>{if(!K()(e))throw new Error(`'${t}' is not a valid function`)},We=e=>void 0===e,Ye=Symbol.for("__le__"),Qe=Symbol.for("__le__pack__"),Je=e=>e?e[Ye]:null,et=e=>{const t=Je(e);if(!t)throw new Error("Didnt find LE internal object. Something very bad happened!");return t},tt=e=>!!Je(e),nt=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Ke(n,"cb");const o=et(e);if(!o.options.allowRegisterNonExistent&&!~o.events.indexOf(t))throw new Error(`Cannot register for event ${t.toString()} that wasn't already defined (allowRegisterNonExistent = false)`);const s=o.registry[t]||[];return s.find((e=>e.cb===n))||(s.push({name:t,cb:n,once:r}),o.registry[t]=s),()=>lt.call(e,t,n)},rt=(e,t)=>{const n=et(e).registry;return t?n[t]?n[t].slice():[]:Object.values(n).flat()},ot={on:function(e,t){return nt(this,e,t)},once:function(e,t){return nt(this,e,t,!0)},off:lt,getEvents:function(){return et(this).events.slice()}},st=()=>Object.entries(ot).reduce(((e,t)=>{let[n,r]=t;return e[n]={value:r},e}),{}),at={trigger:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=rt(this,e);let s;if(o.length){var a;let t;1===n.length&&!0===(null===(a=n[0])||void 0===a?void 0:a[Qe])&&(t=n[0].resolve()),s=o.map((r=>{let o;return r.once&&ct(this,e,r.cb),o=t?r.cb(...t):n.length?1===n.length?r.cb(n[0]):2===n.length?r.cb(n[0],n[1]):3===n.length?r.cb(n[0],n[1],n[2]):r.cb(...n):r.cb(),o})).filter((e=>!We(e))).map((e=>ie(e)?e:Promise.resolve(e)))}return s&&(s.length?s:void 0)},addEvent:function(e){const t=et(this);if(!t.options.canAddEvents)throw new Error("Cannot add new events (canAddEvents = false)");if(~t.events.indexOf(e))throw new Error(`Event '${e}' already defined`);t.events.push(e)},removeEvent:function(e){const t=et(this);if(!t.options.canRemoveEvents)throw new Error("Cannot remove events (canRemoveEvents = false)");{const n=t.events.indexOf(e);t.events.splice(n,1)}},hasEvent:function(e){return!!~et(this).events.indexOf(e)},hasEventRegistrations:function(e){return!!rt(this,e).length},assign:function(e){const t=et(this);return dt(e,t.options,t.events,t.registry,t.stats),it(e)}},it=e=>Object.keys(at).reduce(((t,n)=>(t[n]=at[n].bind(e),t)),{target:e,...at}),ut=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=et(e).registry;!r[t]||!n&&r[t].length||delete r[t]},ct=(e,t,n)=>{const r=et(e).registry;r[t]&&(n?(r[t]=r[t].filter((e=>e.cb!==n)),ut(e,t)):ut(e,t,!0))};function lt(e,t){ct(this,e,t)}const dt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};Object.defineProperties(e,{[Ye]:{value:Object.seal({registry:r,events:n,options:t,stats:o})},...st()})};var ft=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return e=e||{},n={...Xe,...n},tt(e)||dt(e,n,t),it(e)},pt=e=>{const t={resolve:()=>[].concat(e())};return Object.defineProperty(t,Qe,{value:!0,configurable:!1}),t};const ht="rpldy-mock-sender",mt=J({delay:500,fileSize:1e6,progressIntervals:[10,25,50,75,99]}),gt=(e,t,n,r,o)=>{const s=e.isSuccessfulCall||t.isSuccessfulCall;return!s||s({readyState:4,status:n,response:r,getAllResponseHeaders:()=>o})},St=(e,t,n)=>e.then((e=>{var r;let{items:o,...s}=e;L("uploady.mockSender: mock request finished successfully",o);const a={"x-request-type":"react-uploady.mockSender"},i=t.responseStatus||200,u={sendOptions:n,mock:!0,success:gt(t,n,i,s,a)};return{status:i,state:u.success?P.FINISHED:P.ERROR,response:{...s,headers:a,data:t.response||(null===(r=n.formatServerResponse)||void 0===r?void 0:r.call(n,JSON.stringify(u),i,a))||u}}})).catch((e=>(L("uploady.mockSender: mock request was aborted",e),{status:0,state:P.ABORTED,response:"abort"})));var vt=e=>{let t={...mt,...e};return{send:(e,n,r,o)=>{L("uploady.mockSender: about to make a mock request for items: ",e);const s=((e,t)=>{const n=performance.now(),r=[];let o=!1,s=!1,a=null,i=null,u=null;const c=()=>{i&&(i.forEach((e=>{clearTimeout(e)})),i=null)},l=new Promise(((o,a)=>{u=a,setTimeout((()=>{s=!0,o({options:e,time:performance.now()-n,progressEvents:r,items:t}),c()}),e.delay||0)}));return e.progressIntervals&&(i=e.progressIntervals.map((n=>{const i=n/100,u=(e.delay||0)*i;return setTimeout((()=>{if(!o&&!s&&a){const n={total:e.fileSize||0,loaded:(e.fileSize||0)*i};r.push(n),a(n,t)}}),u)}))),{then:l.then.bind(l),abort:()=>(o=!0,s=!0,u&&u(),c(),!0),onProgress:e=>{a=e}}})(t,e);return s.onProgress(o),{request:St(s,t,r),abort:s.abort,senderType:ht}},update:e=>{t={...t,...e}}}},Et=e=>t=>{const n=vt(e);return t.update({send:n.send}),t},bt=vt;const yt=J({BATCH_ADD:"BATCH-ADD",BATCH_START:"BATCH-START",BATCH_PROGRESS:"BATCH_PROGRESS",BATCH_FINISH:"BATCH-FINISH",BATCH_ABORT:"BATCH-ABORT",BATCH_CANCEL:"BATCH-CANCEL",BATCH_ERROR:"BATCH-ERROR",BATCH_FINALIZE:"BATCH-FINALIZE",ITEM_START:"FILE-START",ITEM_CANCEL:"FILE-CANCEL",ITEM_PROGRESS:"FILE-PROGRESS",ITEM_FINISH:"FILE-FINISH",ITEM_ABORT:"FILE-ABORT",ITEM_ERROR:"FILE-ERROR",ITEM_FINALIZE:"FILE-FINALIZE",REQUEST_PRE_SEND:"REQUEST_PRE_SEND",ALL_ABORT:"ALL_ABORT"}),It=J({ITEM_PROGRESS:"ITEM_PROGRESS",BATCH_PROGRESS:"BATCH_PROGRESS"}),Rt=[P.FINISHED,P.ERROR,P.CANCELLED,P.ABORTED],Ot=re({undefinedOverwrites:!0}),At=(e,t,n,r,o,s)=>{const a=n(t),i=e.getState().batches[a[0].batchId].batchOptions,u=(null==r?void 0:r(t,i))||t;return((e,t,n,r,o,s)=>H(e.trigger,o,t,r).then((e=>(null==s||s(e),((e,t,n,r)=>{if(r){if(L(`uploader.queue: REQUEST_PRE_SEND(${e}) event returned updated items/options`,r),r.items){if(r.items.length!==t.length||!W(r.items,t,["id","batchId","recycled"]))throw new Error(`REQUEST_PRE_SEND(${e}) event handlers must return same items with same ids`);t=r.items}r.options&&(n=Ot({},n,r.options))}return{items:t,options:n,cancelled:!1===r}})(o,n,r,e)))))(e,u,a,i,s,o).then((t=>(t.cancelled||((e,t)=>{e.updateState((e=>{t.items.forEach((t=>{e.items[t.id]=t})),e.batches[t.items[0].batchId].batchOptions=t.options}));const n=e.getState();t.items=t.items.map((e=>n.items[e.id])),t.options=n.batches[t.items[0].batchId].batchOptions})(e,t),t)))},Ct=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(o,s)=>At(o,s,t,n,r,e)},Tt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.getState(),o=r.itemQueue.indexOf(t);~o&&e.updateState((e=>{n&&delete e.items[t],e.itemQueue.splice(o,1);const r=e.activeIds.indexOf(t);~r&&e.activeIds.splice(r,1)}))},wt=(e,t,n)=>e.getState().items[t].batchId===n,Dt=Ct(yt.BATCH_START,(e=>e.items),null,(function(){let{batch:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e)throw new Error("BATCH_START event handlers cannot update batch data. Only items & options")})),Pt=[D.ADDED,D.PROCESSING,D.UPLOADING],Ut=[D.ABORTED,D.CANCELLED,D.FINISHED,D.ERROR],kt=(e,t)=>e.batches[t].batch,_t=(e,t)=>{const n=e.getState(),r=n.items[t];return n.batches[r.batchId]},Nt=(e,t)=>_t(e,t).batch,Lt=(e,t)=>{const n=((e,t)=>kt(e.getState(),t))(e,t);n.items.forEach((t=>{let{id:n}=t;return Tt(e,n,!0)}))},Bt=(e,t)=>{e.updateState((e=>{delete e.batches[t]}))},xt=(e,t,n)=>{Ht(e,t,n),Ht(e,t,yt.BATCH_FINALIZE)},Ht=(e,t,n)=>{const r=e.getState(),o=kt(r,t),s=r.items,a={...Ue(o),items:o.items.map((e=>{let{id:t}=e;return Ue(s[t])}))};e.trigger(n,a)},Ft=(e,t)=>{const n=Nt(e,t);return Pt.includes(n.state)},$t=e=>Ut.includes(e.state),qt={[P.PENDING]:null,[P.ADDED]:yt.ITEM_START,[P.FINISHED]:yt.ITEM_FINISH,[P.ERROR]:yt.ITEM_ERROR,[P.CANCELLED]:yt.ITEM_CANCEL,[P.ABORTED]:yt.ITEM_ABORT,[P.UPLOADING]:yt.ITEM_PROGRESS},Mt=e=>!!~Rt.indexOf(e.state);var zt=(e,t,n)=>{t.forEach((t=>{const n=e.getState(),{id:r,info:o}=t;if(L("uploader.processor.queue: request finished for item - ",{id:r,info:o}),n.items[r]){e.updateState((e=>{const t=e.items[r];t.state=o.state,t.uploadResponse=o.response,t.uploadStatus=o.status,Mt(t)&&delete e.aborts[r]}));const t=e.getState().items[r];o.state===P.FINISHED&&t.completed<100&&e.handleItemProgress(t,100,t.file?t.file.size:0),qt[t.state]&&e.trigger(qt[t.state],t),Mt(t)&&(((e,t)=>{e.updateState((e=>{e.batches[t].finishedCounter+=1}))})(e,t.batchId),e.trigger(yt.ITEM_FINALIZE,t))}Tt(e,r)})),(e=>{const t=e.getState();Object.keys(t.batches).forEach((n=>{const{batch:r,finishedCounter:o}=t.batches[n],{orgItemCount:s}=r,a=$t(r);s===o&&(a||100===r.completed||(e.updateState((e=>{const t=kt(e,n);t.completed=100,t.loaded=t.items.reduce(((e,t)=>{let{loaded:n}=t;return e+n}),0)})),Ht(e,n,yt.BATCH_PROGRESS)),e.updateState((e=>{const t=kt(e,n);t.state=a?t.state:D.FINISHED,e.currentBatch===n&&(e.currentBatch=null)})),L(`uploady.uploader.batchHelpers: cleaning up batch: ${r.id}`),a||xt(e,n,yt.BATCH_FINISH),Lt(e,n),Bt(e,n))}))})(e),n(e)};const jt=Ct(yt.REQUEST_PRE_SEND,(e=>e),((e,t)=>({items:e,options:t}))),Gt=e=>{let{allowedItems:t,cancelledResults:n,queue:r,items:o,ids:s,next:a}=e;return(t.length?jt(r,t):Promise.resolve()).catch((e=>{L("uploader.queue: encountered error while preparing items for request",e),((e,t,n,r)=>{const o=n.map((t=>{let{id:n}=t;return{id:n,info:{status:0,state:P.ERROR,response:e}}}));zt(t,o,r)})(e,r,o,a)})).then((e=>{let t;return e&&(e.cancelled?n=s.map((()=>!0)):((e,t,n)=>{const{items:r,options:o}=t,s=e.getState().batches[r[0].batchId].batch;let a;try{a=e.sender.send(r,s,o)}catch(e){L("uploader.queue: sender failed with unexpected error",e),a={request:Promise.resolve({status:0,state:P.ERROR,response:e.message}),abort:()=>!1,senderType:"exception-handler"}}const{request:i}=a;((e,t,n)=>{e.updateState((e=>{t.forEach((t=>{e.items[t.id].state=P.UPLOADING,e.aborts[t.id]=n.abort}))}))})(e,r,a),i.then((t=>{const o=r.map((e=>({id:e.id,info:t})));zt(e,o,n)}))})(r,{items:e.items,options:e.options},a)),((e,t,n,r)=>{const o=n.map(((e,n)=>e?t[n].id:null)).filter(Boolean);if(o.length){const t=o.map((e=>({id:e,info:{status:0,state:P.CANCELLED,response:"cancel"}})));zt(e,t,r)}return!!o.length})(r,o,n,a)||(t=a(r)),t}))};const Zt=(e,t)=>e.getState().activeIds.flat().includes(t),Vt=e=>{let t;const n=(e=>{const t=e.getState().itemQueue,n=(e=>{const t=e.getState(),n=t.itemQueue,r=t.items;let o=0,s=n[o];for(;s&&(Zt(e,s)||!Ft(e,s)||r[s].state!==P.ADDED);)o+=1,s=n[o];return s?o:-1})(e);let r,o=t[n];if(o){const s=_t(e,o),a=s.batch.id,i=s.batchOptions.maxGroupSize||0;if(s.batchOptions.grouped&&i>1){r=[];let s=!0;for(;r.length<i&&s;)r.push(o),o=t[n+r.length],s=o&&wt(e,o,a)}else r=[o]}return r})(e);if(n){const r=e.getCurrentActiveCount(),{concurrent:o=0,maxConcurrent:s=0}=e.getOptions();(!r||o&&r<s)&&(L("uploader.processor: Processing next upload - ",{ids:n,currentCount:r}),t=((e,t)=>{let n;return((e,t)=>{e.updateState((e=>{e.activeIds=e.activeIds.concat(t)}))})(e,t),n=((e,t)=>{const n=Nt(e,t);return e.getState().currentBatch!==n.id})(e,t[0])?((e,t)=>{const n=Nt(e,t);return Dt(e,n).then((t=>{let{cancelled:r}=t;return r||e.updateState((e=>{e.currentBatch=n.id})),!r}))})(e,t[0]).then((n=>{let r=!n;return r&&(((e,t)=>{const n=Nt(e,t),r=n.id;L("uploady.uploader.batchHelpers: cancelling batch: ",{batch:n}),e.updateState((e=>{kt(e,r).state=D.CANCELLED})),xt(e,r,yt.BATCH_CANCEL),Lt(e,r),Bt(e,r)})(e,t[0]),Vt(e)),r})).catch((n=>(L("uploader.processor: encountered error while preparing batch for request",n),((e,t,n)=>{const r=Nt(e,t),o=r.id;L("uploady.uploader.batchHelpers: failing batch: ",{batch:r}),e.updateState((e=>{const t=kt(e,o);t.state=D.ERROR,t.additionalInfo=n.message})),xt(e,o,yt.BATCH_ERROR),Lt(e,o),Bt(e,o)})(e,t[0],n),Vt(e),!0))):Promise.resolve(!1),n})(e,n).then((t=>{t||(((e,t,n)=>{const r=e.getState();let o=Object.values(r.items);o=o.filter((e=>!!~t.indexOf(e.id))),Promise.all(o.map((t=>e.runCancellable(yt.ITEM_START,t)))).then((r=>{let s=r.map(((t,n)=>t?null:((e,t)=>{const n=t.getState().items[e];return n&&!Rt.includes(n.state)?n:void 0})(o[n].id,e))).filter(Boolean);return{allowedItems:s,cancelledResults:r,queue:e,items:o,ids:t,next:n}})).then(Gt)})(e,n,Vt),o&&Vt(e))})))}return t};var Xt=Vt;const Kt=(e,t,n)=>(L(`uploader.queue: aborting ${t.state} item  - `,t),zt(e,[{id:t.id,info:{status:0,state:P.ABORTED,response:"aborted"}}],n),!0),Wt={[P.UPLOADING]:(e,t)=>(L("uploader.queue: aborting uploading item  - ",t),e.getState().aborts[t.id]()),[P.ADDED]:Kt,[P.PENDING]:Kt},Yt=(e,t,n)=>{const r=e.getState().items[t],o=null==r?void 0:r.state;return!!Wt[o]&&Wt[o](e,r,n)};const Qt=()=>!0,Jt=J({autoUpload:!0,clearPendingOnAdd:!1,inputFieldName:"file",concurrent:!1,maxConcurrent:2,grouped:!1,maxGroupSize:5,method:"POST",params:{},fileFilter:Qt,forceJsonResponse:!1,withCredentials:!1,destination:{},send:null,sendWithFormData:!0,formDataAllowUndefined:!1});var en=()=>{const{trigger:e,target:t}=ft({send:(t,n,r)=>{const o=r.destination,s=null==o?void 0:o.url,a=T()((r=>((e,t,n,r)=>{((e,t,n,r)=>{e.forEach((e=>{L(`uploady.uploader.processor: file: ${e.id} progress event: loaded(${n}) - completed(${t})`),r(It.ITEM_PROGRESS,e,t,n)}))})(e,Math.min(n.loaded/n.total*100,100)/e.length,n.loaded/e.length,r),r(It.BATCH_PROGRESS,t)})(t,n,r,e)),50,!0);return(K()(r.send)?r.send:Se)(t,s,{method:(null==o?void 0:o.method)||r.method||Jt.method,paramName:(null==o?void 0:o.filesParamName)||r.inputFieldName||"file",params:{...r.params,...null==o?void 0:o.params},forceJsonResponse:r.forceJsonResponse,withCredentials:r.withCredentials,formatGroupParamName:r.formatGroupParamName,headers:null==o?void 0:o.headers,sendWithFormData:r.sendWithFormData,formatServerResponse:r.formatServerResponse,formDataAllowUndefined:r.formDataAllowUndefined,isSuccessfulCall:r.isSuccessfulCall},a)}},Object.values(It));return t};const tn=U()&&"FileList"in window,nn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e;return Q()()||(t<3&&Ae(e)?n=Ue(e):t<3&&Ce(e)&&(n=Array.isArray(e)?e.map((e=>nn(e,t+1))):Object.keys(e).reduce(((n,r)=>(n[r]=nn(e[r],t+1),n)),{}))),n};let rn=0;var on=(e,t,n,r)=>{const o=((e,t,n,r,o)=>{const{state:s,update:a}=ke({itemQueue:[],currentBatch:null,batches:{},items:{},activeIds:[],aborts:{}}),i=()=>s,u=e=>{a(e)},c=e=>{if(s.items[e.id]&&!e.recycled)throw new Error(`Uploader queue conflict - item ${e.id} already exists`);e.recycled&&((e,t)=>{const{previousBatch:n}=t;if(t.recycled&&n&&e.getState().batches[n]){const{id:r}=Nt(e,t.id);r===n&&e.updateState((e=>{const n=kt(e,r),o=n.items.findIndex((e=>{let{id:n}=e;return n===t.id}));~o&&n.items.splice(o,1)}))}})(d,e),u((t=>{t.items[e.id]=e,t.itemQueue.push(e.id)}))},l=(e,n,r)=>{s.items[e.id]&&(u((t=>{const o=t.items[e.id];o.loaded=r,o.completed=n})),t(yt.ITEM_PROGRESS,i().items[e.id]))};r.on(It.ITEM_PROGRESS,l),r.on(It.BATCH_PROGRESS,(e=>{var n;const r=null===(n=s.batches[e.id])||void 0===n?void 0:n.batch.items;if(r){const[n,o]=r.reduce(((e,t)=>{let{id:n}=t;const{completed:r,loaded:o}=s.items[n];return e[0]+=r,e[1]+=o,e}),[0,0]);u((t=>{const s=t.batches[e.id].batch;s.completed=n/r.length,s.loaded=o})),t(yt.BATCH_PROGRESS,s.batches[e.id].batch)}}));const d={uploaderId:o,getOptions:()=>e,getCurrentActiveCount:()=>s.activeIds.length,getState:i,updateState:u,trigger:t,runCancellable:function(e){if(!K()(n))throw new Error("Uploader queue - cancellable is of wrong type");for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return n(e,...r)},sender:r,handleItemProgress:l};return U()&&_()&&(window[`__rpldy_${o}_queue_state`]=d),{updateState:u,getState:d.getState,runCancellable:d.runCancellable,uploadBatch:(e,t)=>{t&&u((n=>{n.batches[e.id].batchOptions=t})),Xt(d)},addBatch:(e,t)=>(u((n=>{n.batches[e.id]={batch:e,batchOptions:t,finishedCounter:0}})),e.items.forEach(c),kt(s,e.id)),abortItem:e=>((e,t,n)=>Yt(e,t,n))(d,e,Xt),abortBatch:e=>{((e,t,n)=>{const r=e.getState().batches[t],o=null==r?void 0:r.batch;o&&!$t(o)&&(e.updateState((e=>{kt(e,t).state=D.ABORTED})),Ht(e,t,yt.BATCH_ABORT),o.items.forEach((t=>Yt(e,t.id,n))))})(d,e,Xt)},abortAll:()=>{((e,t)=>{const n=e.getState().items;Object.keys(n).forEach((n=>Yt(e,n,t))),e.trigger(yt.ALL_ABORT)})(d,Xt)},clearPendingBatches:()=>{(e=>{const t=e.getState().batches;Object.keys(t).filter((e=>t[e].batch.state===D.PENDING)).forEach((t=>{Lt(e,t),Bt(e,t)}))})(d)},uploadPendingBatches:e=>{((e,t)=>{e.updateState((e=>{Object.keys(e.batches).forEach((n=>{const r=e.batches[n],{batch:o,batchOptions:s}=r;o.state===D.PENDING&&(o.items.forEach((e=>{e.state=P.ADDED})),o.state=D.ADDED,r.batchOptions=oe({},s,t))}))}))})(d,e),Xt(d)}}})(n,e,t,en(),r);return{process:(e,t)=>{o.uploadBatch(e,t)},abortBatch:e=>{o.abortBatch(e)},abort:e=>{e?o.abortItem(e):o.abortAll()},addNewBatch:(e,t,n)=>((e,t,n)=>{rn+=1;const r=`batch-${rn}`,o=(e=>tn&&e instanceof FileList||"[object FileList]"===e.toString())(e);e=Array.isArray(e)||o?e:[e];const s=!n.autoUpload;return((e,t,n,r)=>Promise.all(Array.prototype.map.call(t,(e=>{const t=(r||Qt)(e);return ie(t)?t.then((t=>!!t&&e)):!!t&&e}))).then((t=>t.filter(Boolean).map((t=>j(t,e,n))))))(r,e,s,n.fileFilter).then((e=>({id:r,uploaderId:t,items:e,state:s?D.PENDING:D.ADDED,completed:0,loaded:0,orgItemCount:e.length,additionalInfo:null})))})(e,t,n).then((e=>o.addBatch(e,n))),runCancellable:o.runCancellable,clearPendingBatches:()=>{o.clearPendingBatches()},processPendingBatches:e=>{o.uploadPendingBatches(e)}}};const sn=Object.values(yt);let an=0;var un=e=>{an+=1;const t=`uploader-${an}`;let n=!1;const r={};L(`uploady.uploader: creating new instance (${t})`,{options:e,counter:an});let o=(e=>{return{...Jt,...e,destination:e&&e.destination?(t=e.destination,{params:{},...t}):null};var t})(e);const s=()=>{l.clearPendingBatches()};let{trigger:a,target:i}=ft({id:t,update:e=>(o=oe({},o,e),i),add:(e,t)=>{const n=oe({},o,t);return n.clearPendingOnAdd&&s(),l.addNewBatch(e,i.id,n).then((e=>{let t;return e.items.length?t=l.runCancellable(yt.BATCH_ADD,e,n).then((t=>{t?(e.state=D.CANCELLED,u(yt.BATCH_CANCEL,e)):(L(`uploady.uploader [${i.id}]: new items added - auto upload =\n                        ${String(n.autoUpload)}`,e.items),n.autoUpload&&l.process(e))})):L(`uploady.uploader: no items to add. batch ${e.id} is empty. check fileFilter if this isn't intended`),t}))},upload:e=>{l.processPendingBatches(e)},abort:e=>{l.abort(e)},abortBatch:e=>{l.abortBatch(e)},getOptions:()=>se(o),clearPending:s,registerExtension:(e,t)=>{A()(n,"Uploady - uploader extensions can only be registered by enhancers"),A()(!r[e],"Uploady - uploader extension by this name [%s] already exists",e),L(`uploady.uploader: registering extension: ${e.toString()}`,t),r[e]=t},getExtension:e=>r[e]},sn,{canAddEvents:!1,canRemoveEvents:!1});const u=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=pt((()=>n.map(nn)));return a(e,o)},c=B(u);if(o.enhancer){n=!0;const e=o.enhancer(i,u);n=!1,i=e||i}const l=on(u,c,o,i.id);return J(i)},cn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.reduce(((e,t)=>t(e,...r)||e),e)}},ln=un;const dn=Symbol.for("__upldy-retry__"),fn="RETRY_EVENT",pn=[P.ABORTED,P.ERROR],hn=(e,t,n,r,o)=>{const s=t.getState().failed,a=(r=r||Object.keys(s)).map((e=>s[e])).filter(Boolean);var i;return a.length&&(o={...o||null,autoUpload:void 0===(null===(i=o)||void 0===i?void 0:i.autoUpload)||o.autoUpload},n(fn,{items:a,options:o}),r.forEach((e=>((e,t)=>{e.updateState((e=>{const n=e.failed[t].batchId;delete e.failed[t];const r=e.batchIdsMap[n].indexOf(t);e.batchIdsMap[n].splice(r,1),e.batchIdsMap[n].length||delete e.batchIdsMap[n]}))})(t,e))),e.add(a,o)),!!a.length};var mn=(e,t)=>{const n=(()=>{const{state:e,update:t}=ke({batchIdsMap:{},failed:{}});return{updateState:e=>{t(e)},getState:()=>e}})();return((e,t)=>{e.on(yt.ITEM_FINALIZE,(e=>{~pn.indexOf(e.state)&&t.updateState((t=>{t.failed[e.id]=e,(t.batchIdsMap[e.batchId]=t.batchIdsMap[e.batchId]||[]).push(e.id)}))}))})(e,n),e.registerExtension(dn,{retry:(r,o)=>((e,t,n,r,o)=>{let s;return r?s=((e,t,n,r,o)=>(L(`uploady.retry: about to retry item: ${r}`),hn(e,t,n,[r],o)))(e,t,n,r,o):(L("uploady.retry: about to retry all failed item"),s=hn(e,t,n,null,o)),s})(e,n,t,r,o),retryBatch:(r,o)=>((e,t,n,r,o)=>{var s;L(`uploady.retry: about to retry batch: ${r}`);const a=null===(s=t.getState().batchIdsMap[r])||void 0===s?void 0:s.slice();return!!a&&hn(e,t,n,a,o)})(e,n,t,r,o)}),e},gn=e=>{let t=!1;(()=>{try{if(U()&&e in window){const n="__lsTest";window[e].setItem(n,`__test-${Date.now()}`),window[e].removeItem(n),t=!0}}catch(e){}})();const n=["key","getItem","setItem","removeItem","clear"].reduce(((n,r)=>(n[r]=function(){return t?window[e][r](...arguments):void 0},n)),{});return n.isSupported=t,Object.defineProperty(n,"length",{get:()=>t?window[e].length:0}),n},Sn=gn("localStorage"),vn=gn("sessionStorage");const En=J({...ve,featureDetection:!1,featureDetectionUrl:null,version:"1.0.0",resume:!0,overrideMethod:!1,deferLength:!1,sendDataOnCreate:!1,storagePrefix:"__rpldy-tus__",lockedRetryDelay:2e3,forgetOnSuccess:!1,ignoreModifiedDateInStorage:!1}),bn=(e,t,n)=>{const r=[e.file.name,e.file.type,e.file.size,t.ignoreModifiedDateInStorage?null:e.file.lastModified,n].filter(Boolean).join("/");return`${t.storagePrefix||En.storagePrefix}${r}`},yn=(e,t,n,r)=>{n.resume&&Sn.setItem(bn(e,n,r),JSON.stringify({time:Date.now(),uploadUrl:t}))},In=(e,t,n)=>{let r;const o=bn(e,t,n);if(t.resume)try{const e=Sn.getItem(o);e&&(r=JSON.parse(e).uploadUrl)}catch(e){L(`tusSender.resumableStore: failed to retrieve persisted data for key: ${o}`,e)}return r},Rn=(e,t,n)=>{const r=bn(e,t,n);Sn.removeItem(r)},On=e=>{const t=e.storagePrefix||En.storagePrefix;for(let e=0;e<Sn.length;e++){const n=Sn.key(e);n&&!n.indexOf(t)&&Sn.removeItem(n)}},An=Symbol.for("__upldy-tus__"),Cn="rpldy-tus-sender",Tn=[200,201,204],wn="creation-with-upload",Dn="concatenation",Pn="creation-defer-length",Un=e=>{const t=e.params&&Object.keys(e.params);return null!=t&&t.length?t.map((t=>`${t} ${btoa(e.params[t])}`)).join(","):void 0},kn=(e,t)=>e.then((e=>(e.state===P.FINISHED&&(e.response.location=t),e)));var _n=(e,t,n,r,o)=>{const{options:s}=n.getState(),a={"tus-resumable":s.version,"Upload-Defer-Length":s.deferLength?1:void 0,"Upload-Length":s.deferLength?void 0:e.file.size,"Upload-Metadata":o?void 0:Un(r),"Content-Type":s.sendDataOnCreate?"application/offset+octet-stream":void 0,...r.headers};let i=null;if(L(`tusSender.create - creating upload for ${e.id} at: ${t}`),s.sendDataOnCreate){const t=+s.chunkSize;L("tusSender.create - adding first chunk to create request",{chunkSize:t,actualSize:e.file.size}),i=t<e.file.size?ye(e.file,0,t):e.file}const u=V(t,i,{method:"POST",headers:a});let c=!1;return{request:u.then((r=>{let o=null;return r&&~Tn.indexOf(r.status)?o=((e,t,n,r,o)=>{const{options:s}=n.getState(),a=((e,t)=>{let n;return n=/^(http:|https:)?\/\//.test(t)?t:t.startsWith("/")?(e.startsWith("/")?"":new URL(e).origin.replace(/\/$/,""))+t:[e.replace(/\/$/,""),t.replace(/^\//,"")].join("/"),n})(t,r.getResponseHeader("Location"));let i=0,u=!1;if(L(`tusSender.create: successfully created upload for item: ${e.id} - upload url = ${a}`),s.sendDataOnCreate){const e=parseInt(r.getResponseHeader("Upload-Offset"));i=isNaN(e)?i:e,u=+s.parallel>1&&i===(null==o?void 0:o.size)}return n.updateState((t=>{t.items[e.id].uploadUrl=a,t.items[e.id].offset=i})),{offset:i,uploadUrl:a,isNew:!0,isDone:u}})(e,t,n,r,i):L(`tusSender.create: create upload failed for item: ${e.id}`,r),o})).catch((e=>(L("tusSender.create: create upload failed",e),null))).finally((()=>{c=!0})),abort:()=>(c||(L(`tusSender.create: aborting create request for item: ${e.id}`),u.xhr.abort()),!c)}};const Nn=(e,t,n)=>(Rn(e,t,n),{isNew:!1,canResume:!1}),Ln=(e,t,n,r,o)=>{const{options:s}=n.getState();L(`tusSender.resume - resuming upload for ${e.id}${r?`-${r}`:""} at: ${t}`);const a=V(t,null,{method:"HEAD",headers:{"tus-resumable":s.version}});let i=!1;const u=a.then((a=>{let i;return a&&~Tn.indexOf(a.status)?i=((e,t,n,r)=>{let o=!1,s=!1;L(`tusSender.resume - successfully initiated resume for item: ${e.id} - upload url = ${t}`);const a=parseInt(r.getResponseHeader("Upload-Offset"));if(!isNaN(a)){const i=parseInt(r.getResponseHeader("Upload-Length"));isNaN(i)&&!n.getState().options.deferLength||(s=a===i,o=!s,n.updateState((n=>{n.items[e.id].uploadUrl=t,n.items[e.id].offset=a})))}return{offset:a,uploadUrl:t,isNew:!1,isDone:s,canResume:o}})(e,t,n,a):423===(null==a?void 0:a.status)&&0===o?(L(`tusSender.resume: upload is locked for item: ${e.id}. Will retry in ${+s.lockedRetryDelay}`,a),i=((e,t,n,r,o)=>new Promise((o=>{setTimeout((()=>{Ln(e,t,n,r,1).request.then(o)}),n.getState().options.lockedRetryDelay)})))(e,t,n,r)):(L(`tusSender.resume: failed for item: ${e.id}${r?`-${r}`:""}`,a),i=Nn(e,s,r)),i})).catch((t=>(L("tusSender.resume: resume upload failed unexpectedly",t),Nn(e,s,r)))).finally((()=>{i=!0}));return{request:u,abort:()=>(i||(L(`tusSender.resume: aborting resume request for item: ${e.id}`),a.xhr.abort()),!i)}};var Bn=(e,t,n,r)=>Ln(e,t,n,r,0);const xn=(e,t,n,r,o,s,a,i,u)=>a.then((a=>{let c,l=!1;if(a?a.isDone?(L(`tusSender.handler: resume found server has completed file for item: ${e[0].id}`,e[0]),c=kn(Promise.resolve({status:200,state:P.FINISHED,response:{message:"TUS server has file"}}),a.uploadUrl)):a.isNew||a.canResume?c=u?((e,t,n,r)=>{const o=e[0];return n.uploadUrl&&yn(o,n.uploadUrl,t.getState().options,r),L(`tusSender.handler: created upload for parallelized chunk: ${o.id}`),Promise.resolve({status:200,state:P.UPLOADING,response:"TUS server created upload for parallelized part"})})(e,o,a,u):((e,t,n,r,o,s,a)=>{const{options:i}=o.getState(),u=e[0];L(`tusSender.handler: init request finished. sending item ${u.id} as chunked`,a),a.isNew&&a.uploadUrl&&yn(u,a.uploadUrl,i),(a.canResume||i.sendDataOnCreate&&a.offset)&&(n={...n,startByte:a.offset});const c=s.send(e,t,n,r);return o.updateState((e=>{e.items[u.id].abort=c.abort})),+i.parallel>1?((e,t,n,r,o)=>o.then((o=>{let s=o;if(o.state===P.FINISHED){const{options:a,items:i}=n.getState(),u=i[e.id];if(u){const c=u.parallelChunks,l=c.filter((e=>{var t;return null===(t=i[e])||void 0===t?void 0:t.uploadUrl})).map((e=>i[e].uploadUrl));if(l.length!==c.length)throw new Error(`tusSender: something went wrong. found ${l.length} upload urls for ${c.length} chunks`);const d={"tus-resumable":a.version,"Upload-Concat":`final;${l.join(" ")}`,"Upload-Metadata":Un(r)};L("tusSender.finalizeParallel: sending finalizing request",{url:t,headers:d});const f=V(t,null,{method:"POST",headers:d});n.updateState((t=>{t.items[e.id].abort=()=>(f.xhr.abort(),!0)})),s=((e,t)=>e.catch((e=>(L("tusSender.finalizeParallel: finalize request failed unexpectedly!",e),e))).then((e=>{let n;const r=(null==e?void 0:e.status)||0,o=!!~Tn.indexOf(r),s=o&&e&&"getResponseHeader"in e&&e.getResponseHeader("Location");return s?(L("tusSender.finalizeParallel: successfully finalized parallel upload",s),n=kn(Promise.resolve(t),s)):(L("tusSender.finalizeParallel: parallel upload finalize failed!",r),n={status:r,state:P.ERROR,response:{message:(null==e?void 0:e.response)||(o&&!s?"No valid location header for finalize request":"")}}),n})))(f,o)}}return s})))(u,t,o,n,c.request):kn(c.request,a.uploadUrl)})(e,t,n,r,o,s,a):l=!0:l=i,l){L(`tusSender.handler: resume init failed. Will try creating a new upload for item: ${e[0].id}`);const{request:a}=_n(e[0],t,o,n);c=xn(e,t,n,r,o,s,a)}return c||Promise.resolve({status:0,state:P.ERROR,response:"TUS initialize failed"})}));var Hn=xn;const Fn=(e,t)=>{t.updateState((t=>{t.items[e.id]={id:e.id,uploadUrl:null,size:e.file.size,offset:0,parallelChunks:[]}}))};var $n=function(e,t,n,r,o,s){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;const{options:i}=o.getState(),u=+i.parallel>1&&!a,c=e[0],l=!u&&In(c,i,a);let d;Fn(c,o),d=u?{request:Promise.resolve({isNew:!0}),abort:()=>!0}:l?Bn(c,l,o,a):_n(c,t,o,n,a);const f=Hn(e,t,n,r,o,s,d.request,!!l,a),p=()=>(L(`tusSender.handler: abort called for item: ${c.id}`),d.abort(),d.request.then((e=>{if(e){L(`tusSender.handler: aborting chunked upload for item:  ${c.id}`);const e=o.getState().items[c.id].abort;e&&e()}})),!0);return{request:f,abort:p}};const qn="PATCH",Mn=(e,t)=>`_prlChunk_${+e.chunkSize}_${t}`,zn=e=>({...e,"Content-Range":void 0});const jn=e=>`rpldy_tus_fd_${e}`,Gn={[Dn]:(e,t)=>{+t.getState().options.parallel>1&&!~e.indexOf(Dn)&&(L("tusSender.featureDetection: disabling parallel uploads, concatenation extension not available"),t.updateState((e=>{e.options.parallel=1})))},[wn]:(e,t)=>{t.getState().options.sendDataOnCreate&&!~e.indexOf(wn)&&(L("tusSender.featureDetection: disabling create with data, creation-with-upload extension not available"),t.updateState((e=>{e.options.sendDataOnCreate=!1})))},[Pn]:(e,t)=>{t.getState().options.deferLength&&!~e.indexOf(Pn)&&(L("tusSender.featureDetection: disabling defer length, creation-defer-length extension not available"),t.updateState((e=>{e.options.deferLength=!1})))}},Zn=(e,t,n)=>{const{options:r}=e.getState();if(t){L("tusSender.featureDetection: retrieved extensions from server",t);const n=t.split(",");if(n.length&&r.onFeaturesDetected){const t=r.onFeaturesDetected(n);t&&e.updateState((e=>{e.options=oe({},e.options,t)}))}else Object.keys(Gn).forEach((t=>{Gn[t](n,e)}))}n&&n!==e.getState().options.version&&(L(`tusSender.featureDetection: setting version to server version: ${n}`),e.updateState((e=>{e.options.version=n}))),e.updateState((e=>{e.featureDetection={processed:!0,version:n,extensions:t}}))},Vn=(e,t,n)=>e.catch((e=>{L("tusSender.featureDetection: failed to retrieve data from server",e)})).then((e=>{if(e&&~Tn.indexOf(e.status)){const r=e.getResponseHeader("Tus-Extension"),o=e.getResponseHeader("Tus-Resumable");r&&vn.setItem(jn(t),JSON.stringify({extensions:r,versions:o})),Zn(n,r,o)}})),Xn=(e,t)=>{const{options:n}=t.getState(),r=V(e,null,{method:"OPTIONS",headers:{"tus-resumable":n.version}});return{request:Vn(r,e,t),abort:()=>(r.xhr.abort(),!0)}};var Kn=(e,t)=>be?(n,r,o,s)=>{let a;if(!r)throw new ce(Cn);if(n.length>1||n[0].url)a=e.send(n,r,o,s);else{L("tusSender: sending file using TUS protocol");let i=t.getState().options.featureDetection?((e,t)=>{let n;const{options:r,featureDetection:o}=t.getState();e=r.featureDetectionUrl||e,L("tusSender.featureDetection: about to request server info",e);const s=vn.getItem(jn(e));return o.processed||(n=s?((e,t,n)=>{let r;try{var o;if(r=JSON.parse(n),null!==(o=r)&&void 0!==o&&o.extensions){const{extensions:e,version:n}=r;L("tusSender.featureDetection: retrieved feature detection data from session storage",r),Zn(t,e,n)}else r=null}catch(e){L("tusSender.featureDetection: failed to load feature detection data from session storage")}return r||vn.removeItem(jn(e)),r?null:Xn(e,t)})(e,t,s):Xn(e,t)),n})(r,t):null;const{request:u,abort:c}=((e,t,n,r,o,s,a)=>{let i;const u=()=>{const a=$n(e,t,n,r,o,s);return i=a.abort,a.request};return{request:a?a.request.then(u,u):u(),abort:()=>i?i():(null==a?void 0:a.abort())||!1}})(n,r,o,s,t,e,i);a={request:u,abort:c,senderType:Cn}}return a}:Se;var Wn=(e,t,n)=>{t=(e=>(((e=(e=>oe({},En,e))(e)).sendDataOnCreate||e.parallel)&&e.deferLength&&(L("tusSender: turning off deferLength - cannot be used when sendDataOnCreate or parallel is enabled"),e.deferLength=!1),e.chunked=!0,e))(t);const r=Ge(t,n),o=((e,t)=>{const{state:n,update:r}=ke({options:t,items:{},featureDetection:{extensions:null,version:null,processed:!1}}),o={getState:()=>n,updateState:r};return U()&&_()&&(window[`__rpldy_${e.id}_tus_state`]=o),o})(e,t);return((e,t,n)=>{be&&(e.on(yt.ITEM_FINALIZE,(e=>{const{items:n,options:r}=t.getState(),o=n[e.id];if(o){L(`tusSender.handleEvents: item ${e.id} finalized (${e.state}). Removing from state`);const n=o.parallelChunks;t.updateState((t=>{n.length&&n.forEach((e=>{delete t.items[e]})),delete t.items[e.id]})),r.forgetOnSuccess&&(L(`tusSender.handleEvents: forgetOnSuccess enabled, removing item url from storage: ${e.id}`),Rn(e,r))}})),e.on(_e.CHUNK_START,(e=>{const{options:r}=t.getState(),o=+r.parallel>1,s=o?((e,t,n)=>{const{item:r,chunkItem:o,url:s,sendOptions:a,onProgress:i,chunk:u}=n,{options:c}=e.getState();return e.updateState((e=>{e.items[r.id].parallelChunks.push(o.id)})),$n([o],s,{...a,headers:zn(a.headers),params:null},i,e,t,Mn(c,u.index)).request.then((e=>e.state!==P.FINISHED))})(t,n,e):Promise.resolve(!0);return s.then((n=>n&&((e,t,n)=>{const{item:r,chunk:o,chunkItem:s,remainingCount:a}=t,{options:i}=e.getState(),u=e.getState().items[n?s.id:r.id],c=n?0:u.offset||o.start,l=zn({"tus-resumable":i.version,"Upload-Offset":c,"Content-Type":"application/offset+octet-stream","X-HTTP-Method-Override":i.overrideMethod?qn:void 0,"Upload-Length":i.deferLength&&!a?r.file.size:void 0,"Upload-Concat":n?"partial":void 0});return L(`tusSender.handleEvents: chunk start handler. offset = ${c}`,{headers:l,url:u.uploadUrl}),{sendOptions:{sendWithFormData:!1,method:i.overrideMethod?"POST":qn,headers:l},url:u.uploadUrl}})(t,e,o)))})),e.on(_e.CHUNK_FINISH,(e=>{let{item:n,chunk:r,uploadData:o}=e;const{items:s,options:a}=t.getState();if(+a.parallel>1){if(a.forgetOnSuccess){const e=Mn(a,r.index);L(`tusSender.handleEvents: forgetOnSuccess enabled, removing parallel chunk url from storage: ${e}`),Rn(n,a,e)}}else if(s[n.id]){const{status:e,response:s}=o;L(`tusSender.handleEvents: received upload response (code: ${e}) for : ${n.id}, chunk: ${r.id}`,s),~Tn.indexOf(e)&&s.headers&&t.updateState((e=>{e.items[n.id].offset=s.headers["upload-offset"]}))}})))})(e,o,r),{send:Kn(r,o),getOptions:()=>o.getState().options}},Yn=e=>(t,n)=>{const r=Wn(t,e,n);return t.update({send:r.send}),t.registerExtension(An,{getOptions:r.getOptions}),t},Qn=Yn,Jn=n("Z1CE"),er=n("+TXh"),tr=n.n(er);const nr=Symbol.for("_rpldy-version_"),rr=()=>"0.18.2",or=()=>(U()?window:process)[nr],sr="Uploady - Context. File input isn't available",ar=(e,t)=>{let n,r,o=!1;t?n=t:L("Uploady context - didn't receive input field ref - waiting for external ref");const s=()=>{var e;return null===(e=n)||void 0===e?void 0:e.current},a=()=>{const e=s();A()(e,sr),e.removeEventListener("change",a);const t=r;r=null,i(e.files,t)},i=(t,n)=>{e.add(t,n)};return(U()?window:process)[nr]=rr(),{hasUploader:()=>!!e,getInternalFileInput:()=>(n&&(o=!0),n),setExternalFileInput:e=>{o=!0,n=e},getIsUsingExternalInput:()=>o,showFileUpload:e=>{const t=s();A()(t,sr),r=e,t.removeEventListener("change",a),t.addEventListener("change",a),t.value="",t.click()},upload:i,processPending:t=>{e.upload(t)},clearPending:()=>{e.clearPending()},setOptions:t=>{e.update(t)},getOptions:()=>e.getOptions(),getExtension:t=>e.getExtension(t),abort:t=>{e.abort(t)},abortBatch:t=>{e.abortBatch(t)},on:(t,n)=>e.on(t,n),once:(t,n)=>e.once(t,n),off:(t,n)=>e.off(t,n)}};var ir=tr().createContext(null),ur=e=>(A()(!(()=>{const e=or();return!!e&&e!==rr()})(),"Uploady - Valid UploadyContext not found.\nYou may be using packages of different Uploady versions. <Uploady> and all other packages using the context provider must be of the same version: %s",or()),A()(e&&e.hasUploader(),"Uploady - Valid UploadyContext not found. Make sure you render inside <Uploady>"),e),cr=()=>ur((0,er.useContext)(ir));const lr=(e,t)=>{const n=cr(),{on:r,off:o}=n;(0,er.useEffect)((()=>(r(e,t),()=>{o(e,t)})),[e,t,r,o])},dr=(e,t)=>(n,r)=>{const[o,s]=(0,er.useState)(null);n&&!K()(n)&&(r=n,n=void 0);const a=(0,er.useCallback)((function(e){if(!r||e.id===r){for(var o=arguments.length,a=new Array(o>1?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];s(t(e,...a)),K()(n)&&n(e,...a)}}),[n,r]);return lr(e,a),o},fr=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(n,r)=>{const o=(0,er.useCallback)((function(e){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];return!n||t&&r&&e.id!==r?void 0:n(e,...s)}),[n,r]);lr(e,o)}},pr=fr(yt.BATCH_ADD,!1),hr=fr(yt.BATCH_START),mr=fr(yt.BATCH_FINISH),gr=fr(yt.BATCH_CANCEL),Sr=fr(yt.BATCH_ERROR),vr=fr(yt.BATCH_FINALIZE),Er=fr(yt.BATCH_ABORT),br=dr(yt.BATCH_PROGRESS,(e=>({...e}))),yr=fr(yt.ITEM_START),Ir=fr(yt.ITEM_FINISH),Rr=fr(yt.ITEM_CANCEL),Or=fr(yt.ITEM_ERROR),Ar=fr(yt.ITEM_ABORT),Cr=fr(yt.ITEM_FINALIZE),Tr=dr(yt.ITEM_PROGRESS,(e=>({...e}))),wr=fr(yt.REQUEST_PRE_SEND,!1),Dr=fr(yt.ALL_ABORT,!1),Pr=Symbol.for("rpldy_component"),Ur=(e,t)=>{Q()()||e||console.warn(t)},kr=e=>{e[Pr]=!0},_r=e=>{var t,n;return!0===e[Pr]||!0===(null===(t=e.target)||void 0===t?void 0:t[Pr])||!0===(null===(n=e.render)||void 0===n?void 0:n[Pr])};var Nr=e=>{const{listeners:t,debug:n,children:r,inputRef:o,...s}=e;N(!!n),L("@@@@@@ Uploady Rendering @@@@@@",e);const a=((e,t)=>{const n=(0,er.useMemo)((()=>(L("Uploady creating a new uploader instance",e),ln(e))),[e.enhancer]);return n.update(e),(0,er.useEffect)((()=>(t&&(L("Uploady setting event listeners",t),Object.entries(t).forEach((e=>{let[t,r]=e;n.on(t,r)}))),()=>{t&&(L("Uploady removing event listeners",t),Object.entries(t).forEach((e=>{let[t,r]=e;return n.off(t,r)})))})),[t,n]),n})(s,t),i=(0,er.useMemo)((()=>ar(a,o)),[a,o]);return tr().createElement(ir.Provider,{value:i},r)},Lr=e=>{const t=cr();return e&&t.setOptions(e),t.getOptions()},Br=()=>{const e=cr();return(0,er.useCallback)((t=>e.abort(t)),[e])},xr=()=>{const e=cr();return(0,er.useCallback)((t=>e.abortBatch(t)),[e])},Hr=()=>{const e=cr();return(0,er.useCallback)((()=>e.abort()),[e])};const Fr=e=>{let{eventType:t,getIsValidEventData:n,getRequestData:r}=e;return e=>o=>{const s=cr(),[a,i]=(0,er.useState)({updateRequest:null,requestData:null}),{id:u}=o;return(0,er.useLayoutEffect)((()=>{const e=function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return!0===n(u,...a)?new Promise((n=>{i({updateRequest:r=>{s.off(t,e),n(r)},requestData:r(...a)})})):void 0};return u&&s.on(t,e),()=>{u&&s.off(t,e)}}),[s,u]),tr().createElement(e,(0,Jn.Z)({},o,a))}};var $r=Fr({eventType:yt.REQUEST_PRE_SEND,getIsValidEventData:(e,t)=>{let{items:n}=t;return!!n.find((t=>t.id===e))},getRequestData:e=>{let{items:t,options:n}=e;return{items:t,options:n}}});const qr=Fr({eventType:yt.BATCH_START,getIsValidEventData:(e,t)=>t.id===e,getRequestData:(e,t)=>({batch:e,items:e.items,options:t})});var Mr=qr,zr=n("XYNb"),jr=n.n(zr);const Gr=(e,t,n)=>tr().createElement("input",(0,Jn.Z)({},e,{name:t.inputFieldName,type:"file",ref:n})),Zr=(0,er.memo)((0,er.forwardRef)(((e,t)=>{let{container:n,noPortal:r,...o}=e;const s=Lr(),a=n&&1===n.nodeType;return A()(a||!U(),"Uploady - Container for file input must be a valid dom element"),r?Gr(o,s,t):((e,t,n,r,o)=>e&&t?jr().createPortal(Gr(n,r,o),e):null)(n,a,o,s,t)})));var Vr=e=>{const{multiple:t=!0,capture:n,accept:r,webkitdirectory:o,children:s,inputFieldContainer:a,customInput:i,fileInputId:u,noPortal:c=!1,...l}=e,d=i?null:a||(U()?document.body:null),f=(0,er.useRef)();return tr().createElement(Nr,(0,Jn.Z)({},l,{inputRef:f}),i?null:tr().createElement(Zr,{container:d,multiple:t,capture:n,accept:r,webkitdirectory:o,style:{display:"none"},ref:f,id:u,noPortal:c}),s)};var Xr=e=>{const t=cr();return e&&t.setExternalFileInput(e),(0,er.useEffect)((()=>{if(null!=e&&e.current&&"closest"in e.current){const n=e.current,r=t.getOptions();if(!r.destination||!r.destination.url){const e=(e=>{const t=e.closest("form");let n={filesParamName:e.getAttribute("name"),method:void 0,url:void 0};if(t){const e=t.getAttribute("method"),r=(e=>{const t=window.location;let n,r=e.getAttribute("action")||"";switch(r=r.replace(/\s/g,""),!0){case""===r:r=t.href;break;case r.startsWith("/"):r=`${t.protocol}//${t.host}${r}`;break;case!/:\/\//.test(r):n=t.pathname.split("/").slice(0,-1).concat("").join("/"),r=`${t.protocol}//${t.host}${n}${r}`}return r})(t);n.method=e?e.toUpperCase():void 0,n.url=r,L(`Uploady.useFileInput: using custom input's parent form url ${n.url} and method ${n.method||""}`)}return n})(n);t.setOptions({destination:e})}}}),[e,t]),e||t.getInternalFileInput()},Kr=Vr;Ur(be||!U(),"This browser doesn't support chunking. Consider using @rpldy/uploady instead");var Wr=e=>{const{chunked:t,chunkSize:n,retries:r,parallel:o,...s}=e,a=(0,er.useMemo)((()=>be?((e,t)=>{const n=Ve(e);return t?cn(n,t):n})({chunked:t,chunkSize:n,retries:r,parallel:o},e.enhancer):void 0),[e.enhancer,t,n,r,o]);return tr().createElement(Kr,(0,Jn.Z)({},s,{enhancer:a}))};const Yr=fr(_e.CHUNK_START,!1),Qr=fr(_e.CHUNK_FINISH,!1);var Jr=Wr;const eo="Uploady - retry was not registered. Make sure you used the enhancer";var to=()=>{const e=cr().getExtension(dn);return A()(e,eo),e.retry},no=()=>{const e=cr().getExtension(dn);return A()(e,eo),e.retryBatch},ro=fr(fn,!1),oo=mn;Ur(be,"This browser doesn't support chunking. Consider using @rpldy/uploady instead");var so=e=>{const{chunked:t,chunkSize:n,retries:r,parallel:o,version:s,featureDetection:a,featureDetectionUrl:i,onFeaturesDetected:u,resume:c,deferLength:l,overrideMethod:d,sendDataOnCreate:f,storagePrefix:p,lockedRetryDelay:h,forgetOnSuccess:m,ignoreModifiedDateInStorage:g,...S}=e,v=(0,er.useMemo)((()=>be?((e,t)=>{const n=Yn(e);return t?cn(n,t):n})({chunked:t,chunkSize:n,retries:r,parallel:o,version:s,featureDetection:a,featureDetectionUrl:i,onFeaturesDetected:u,resume:c,deferLength:l,overrideMethod:d,sendDataOnCreate:f,storagePrefix:p,lockedRetryDelay:h,forgetOnSuccess:m,ignoreModifiedDateInStorage:g},e.enhancer):void 0),[e.enhancer,t,n,r,o,s,a,i,u,c,l,d,f,p,h,m,g]);return tr().createElement(Kr,(0,Jn.Z)({},S,{enhancer:v}))},ao=()=>{const e=cr().getExtension(An);return A()(e,"Uploady - tus was not registered. Make sure you used the enhancer"),()=>On(e.getOptions())},io=so,uo=e=>{const t=(t,n)=>{const{showFileUpload:r}=cr(),{id:o,className:s,text:a,children:i,extraProps:u,onClick:c,...l}=t,d=(0,er.useRef)();d.current=l;const f=(0,er.useCallback)((e=>{r(d.current),null==c||c(e)}),[r,d,c]);return tr().createElement(e,(0,Jn.Z)({ref:n,onClick:f,id:o,className:s,children:i||a||"Upload"},u))};return kr(t),(0,er.forwardRef)(t)},co=uo((0,er.forwardRef)(((e,t)=>tr().createElement("button",(0,Jn.Z)({ref:t},e))))),lo=co,fo=n("ALC1");const po=(0,er.forwardRef)(((e,t)=>{let{className:n,id:r,children:o,onDragOverClassName:s,dropHandler:a,htmlDirContentParams:i,shouldRemoveDragOver:u,extraProps:c,...l}=e;const{upload:d}=cr(),f=(0,er.useRef)(null),p=(0,er.useRef)(!1);(0,er.useImperativeHandle)(t,(()=>f.current),[]);const h=(0,er.useRef)();h.current=l;const m=(0,er.useCallback)((()=>{p.current=!1,f.current&&s&&f.current.classList.remove(s)}),[s,f]),g=(0,er.useCallback)((e=>a?Promise.resolve(a(e)):(0,fo.getFilesFromDragEvent)(e,i||{})),[a,i]),S=(0,er.useCallback)((e=>{g(e).then((e=>{d(e,h.current)}))}),[d,g,h]),v=(0,er.useCallback)((e=>{p.current=!p.current&&e.target===f.current,f.current&&s&&f.current.classList.add(s)}),[s,f]),E=(0,er.useCallback)((e=>{e.preventDefault()}),[]),b=(0,er.useCallback)((e=>{e.preventDefault(),e.persist(),m(),S(e)}),[m,S]),y=(0,er.useCallback)((e=>{(p.current&&e.target===f.current||null!=u&&u(e))&&m()}),[m,f,u]),I=(0,er.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),m()}),[m]);return tr().createElement("div",(0,Jn.Z)({id:r,className:n,ref:f,onDragOver:E,onDragEnter:v,onDrop:b,onDragLeave:y,onDragEnd:I},c),o)}));kr(po);var ho=po,mo=ho,go=(e,t)=>{const{upload:n}=cr(),r=(0,er.useRef)();return r.current=e,(0,er.useCallback)((e=>{var o;const s=null===(o=e.clipboardData)||void 0===o?void 0:o.files;null!=s&&s.length&&(n(s,r.current),null==t||t({count:s.length}))}),[n,r,t])},So=e=>(0,er.forwardRef)(((t,n)=>{const{id:r,className:o,children:s,onPasteUpload:a,extraProps:i,...u}=t,c=go(u,a),l=_r(e)?{...u,extraProps:{...i,onPaste:c}}:{...i,onPaste:c};return tr().createElement(e,(0,Jn.Z)({ref:n,id:r,className:o},l),s)}));const vo=(e,t)=>{(e||window).addEventListener("paste",t)},Eo=(e,t)=>{(e||window).removeEventListener("paste",t)};var bo=(e,t,n)=>{const r=(0,er.useRef)(!0),o=go(e,n),s=(0,er.useCallback)((()=>{const e=null==t?void 0:t.current;return r.current=!r.current,r.current?vo(e,o):Eo(e,o),r.current}),[t,o]),a=(0,er.useCallback)((()=>r.current),[]);return(0,er.useEffect)((()=>{const e=null==t?void 0:t.current;return r.current&&vo(e,o),()=>{r.current&&Eo(e,o)}}),[t,o]),{toggle:s,getIsEnabled:a}},yo=So;const Io={IMAGE:"image",VIDEO:"video"},Ro=J({rememberPreviousBatches:!1,loadFirstOnly:!1,maxPreviewImageSize:2e7,maxPreviewVideoSize:1e8,fallbackUrl:"",imageMimeTypes:["image/jpeg","image/webp","image/gif","image/png","image/apng","image/bmp","image/x-icon","image/svg+xml"],videoMimeTypes:["video/mp4","video/webm","video/ogg"],previewComponentProps:void 0}),Oo=(e,t)=>{let n=K()(e)?e(t):e;return"string"==typeof n&&(n={id:"",url:n,name:t.name,type:Io.IMAGE}),n},Ao=(e,t,n,r)=>{let o;return t&&~t.indexOf(r.type)&&(!n||r.size<=n)&&(o={url:URL.createObjectURL(r),name:r.name,type:e}),o},Co=(e,t,n,r)=>K()(e)?e(t,n,r):e,To=(e,t)=>{const n=[];return t.forEach((t=>{const r=e.findIndex((e=>e.id===t.id));~r?e.splice(r,1,t):n.push(t)})),e.concat(n)},wo=e=>t=>{const n=t.previewComponentProps,[r,o]=(0,er.useState)({previews:[],items:[]}),s=(a=t,{...Ro,...a});var a;const i=(0,er.useCallback)((()=>{o({previews:[],items:[]})}),[]);return e((e=>{const n=s.loadFirstOnly?e.items.slice(0,1):e.items,a=n.map((e=>((e,t)=>{let n,r=!1;if(e.file){const o=e.file;n=((e,t)=>{let n=Ao(Io.IMAGE,t.imageMimeTypes,t.maxPreviewImageSize||0,e);return n||(n=Ao(Io.VIDEO,t.videoMimeTypes,t.maxPreviewVideoSize||0,e)),n})(e.file,t),n||(n=Oo(t.fallbackUrl,o),r=!0)}else n={url:e.url,name:e.url,type:Io.IMAGE};return n&&{...n,id:e.id,isFallback:r}})(e,s))).filter(Boolean);o({previews:t.rememberPreviousBatches?To(r.previews,a):a,items:t.rememberPreviousBatches?r.items.concat(n):n})})),{previews:(0,er.useMemo)((()=>((e,t,n)=>{let r=e;return n&&(r=e.map((e=>({...e,props:Co(n,t.find((t=>{let{id:n}=t;return n===e.id})),e.url,e.type)})))),r})(r.previews,r.items,n)),[r,n]),clearPreviews:i}},Do=(e,t,n,r)=>e===Io.VIDEO?tr().createElement("video",(0,Jn.Z)({key:t,src:t,controls:!0},n)):tr().createElement("img",(0,Jn.Z)({key:t,onError:r,src:t},n)),Po=(e,t,n,r)=>{(0,er.useImperativeHandle)(n,(()=>({clear:t})),[t]),(0,er.useEffect)((()=>{r&&r(e)}),[e,r])},Uo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr;const t=wo(e);return e=>{const{PreviewComponent:n,previewMethodsRef:r,onPreviewsChanged:o,...s}=e,{previews:a,clearPreviews:i}=t(s),u=(0,er.useCallback)((t=>{const n=t.target,r=Oo(e.fallbackUrl,n.src);r&&(n.src=r.url)}),[e.fallbackUrl]);return Po(a,i,r,o),a.map((e=>{const{id:t,url:r,type:o,name:s,isFallback:a,props:i}=e;return n?tr().createElement(n,(0,Jn.Z)({key:t+r,id:t,url:r,type:o,name:s,isFallback:a},i)):Do(o,r,i,u)}))}};var ko=Uo(),_o=ko;const No=(0,er.forwardRef)(((e,t)=>{const n=(0,er.useRef)(null),r=cr(),{className:o,id:s,placeholder:a,uploadRef:i,validate:u,ignoreKeyPress:c,...l}=e,d=(0,er.useRef)();d.current=l,(0,er.useImperativeHandle)(t,(()=>n.current),[]);const f=(0,er.useCallback)((()=>{const e=n.current,t=null==e?void 0:e.value;(u?u(t,e):t)&&r.upload(t,d.current)}),[r,u,d,n]),p=(0,er.useCallback)((e=>{c||"Enter"!==e.key||f()}),[f,c]);return(0,er.useImperativeHandle)(i,(()=>f),[f]),tr().createElement("input",{type:"text",id:s,ref:n,className:o,onKeyPress:p,placeholder:a})}));kr(No);var Lo=No,Bo=No},"+TXh":function(t){"use strict";t.exports=e},XYNb:function(e){"use strict";e.exports=t}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return r[e].call(n.exports,n,n.exports,s),n.exports}s.m=r,n=[],s.O=function(e,t,r,o){if(!t){var a=1/0;for(l=0;l<n.length;l++){t=n[l][0],r=n[l][1],o=n[l][2];for(var i=!0,u=0;u<t.length;u++)(!1&o||a>=o)&&Object.keys(s.O).every((function(e){return s.O[e](t[u])}))?t.splice(u--,1):(i=!1,o<a&&(a=o));if(i){n.splice(l--,1);var c=r();void 0!==c&&(e=c)}}return e}o=o||0;for(var l=n.length;l>0&&n[l-1][2]>o;l--)n[l]=n[l-1];n[l]=[t,r,o]},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={179:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,a=n[0],i=n[1],u=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(u)var l=u(s)}for(t&&t(n);c<a.length;c++)o=a[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(l)},n=self.webpackChunkrpldy=self.webpackChunkrpldy||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var a=s.O(void 0,[429],(function(){return s("dDzF")}));return s.O(a)}()}));
//# sourceMappingURL=rpldy-all.umd.min.js.map