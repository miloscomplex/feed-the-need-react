"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _logger = require("../logger");

const parseResponseHeaders = xhr => {
  let resHeaders;

  try {
    resHeaders = xhr.getAllResponseHeaders().trim().split(/[\r\n]+/).reduce((res, line) => {
      const [key, val] = line.split(": ");
      res[key] = val;
      return res;
    }, {});
  } catch (ex) {
    (0, _logger.debugLog)("uploady.request: failed to read response headers", xhr);
  }

  return resHeaders;
};

var _default = parseResponseHeaders;
exports.default = _default;